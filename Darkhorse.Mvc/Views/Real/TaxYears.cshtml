@model DarkHorse.Mvc.Models.RealAccountTaxYearsDetail;

@{
    ViewData["Title"] = "Real Property Account Tax Years";
    // This page is a direct recreation of
    // LISRPASACCTYR
}

<p class="display-4 pr-3">🏠 Real Property Account Tax Years</p>
<div class="form-group">
    <div class="form-row">
        <div class="col-4">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">Account</span>
                </div>
                <input type="text" class="form-control" value="@Model.Account.ACCT_NO" readonly>
            </div>
        </div>
        <div class="col-4">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">Process #</span>
                </div>
                <input type="text" class="form-control" value="@Model.Account.RP_ACCT_ID" readonly>
            </div>
        </div>
        <div class="col-4">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">Taxpayer</span>
                </div>
                <input type="text" class="form-control" value="@Model.AccountsFilter.CONTACT_NAME" readonly>
            </div>
        </div>
    </div>
    <div class="table-responsive mt-3">
        <table class="table table-striped table-hover table-bordered">
            <thead>
                <tr>
                    <th>
                        Year
                    </th>
                    <th>
                        Status
                    </th>
                    <th>
                        Tax Code
                    </th>
                    <th>
                        Tax Rate
                    </th>
                    <th>
                        Taxable Average Value
                    </th>
                    <th>
                        Prorate Start Date
                    </th>
                    <th>
                        Prorate End Date
                    </th>
                    <th>
                        Total Billed
                    </th>
                    <th>
                        Total Paid
                    </th>
                </tr>
            </thead>
            <tbody>
                @{ foreach (var year in Model?.TaxYears)
                    {
                        <tr onclick="window.location='./@Model.Account.RP_ACCT_ID?year=@year.TAX_YR'">
                            <td>
                                @year.TAX_YR
                            </td>
                            <td>
                                @year.TAX_STATUS
                            </td>
                            <td>
                                @year.TAX_CODE
                            </td>
                            <td>
                                @year.TaxRate.ToString("N6")
                            </td>
                            <td>
                                @year.TAXABLE_AV.ToString("N")
                            </td>
                            <td>
                                @year.PRORATE_START_DT.ToShortDateString()
                            </td>
                            <td>
                                @year?.PRORATE_END_DT?.ToShortDateString()
                            </td>
                            <td>
                                @year?.ADJ_TAX_BILLED?.ToString("C")
                            </td>
                            <td>
                                @year.RP_TAX_PAID.ToString("C")
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="taxyear-tab" data-toggle="tab" href="#taxyear" role="tab" aria-controls="home" aria-selected="true">
                Tax Year
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="balance-tab" data-toggle="tab" href="#balance" role="tab" aria-controls="home" aria-selected="true">
                Balance
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="exemptions-tab" data-toggle="tab" href="#exemptions" role="tab" aria-controls="home" aria-selected="true">
                Exemptions
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="assessments-tab" data-toggle="tab" href="#assessments" role="tab" aria-controls="home" aria-selected="true">
                Assessments
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="adjustments-tab" data-toggle="tab" href="#adjustments" role="tab" aria-controls="home" aria-selected="true">
                Adjustments
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="prepayment-tab" data-toggle="tab" href="#prepayment" role="tab" aria-controls="home" aria-selected="true">
                Prepayment
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="delinquent-tab" data-toggle="tab" href="#delinquent" role="tab" aria-controls="home" aria-selected="true">
                Delinquent
            </a>
        </li>
    </ul>
    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="taxyear" role="tabpanel" aria-labelledby="taxyear-tab">
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-3">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Tax Year</span>
                            </div>
                            <input type="number" class="form-control" value="@Model?.TaxYear?.TAX_YR">
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Tax Status</span>
                            </div>
                            <input type="text" class="form-control" value="@Model?.TaxYear?.TAX_STATUS">
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Tax Code</span>
                            </div>
                            <input type="number" class="form-control" value="@Model?.TaxYear?.TAX_CODE">
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Sr. Citizen Rate</span>
                            </div>
                            <input type="text" class="form-control" value="@Model?.SeniorCitizen?.srcit_type">
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-3">
                        <div class="input-group">
                            <div class="btn-group-toggle" data-toggle="buttons">
                                @{
                                    if (Model?.TaxYear?.PUBLIC_OWNED_FLAG == 'Y')
                                    {
                                        <label class="btn btn-secondary active">
                                            <input type="checkbox" checked> Publicly Owned
                                        </label>
                                    }
                                    else
                                    {
                                        <label class="btn btn-outline-secondary">
                                            <input type="checkbox"> Publicly Owned
                                        </label>
                                    }

                                }
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="input-group">
                            <div class="btn-group-toggle" data-toggle="buttons">
                                @{
                                    if (Model?.TaxYear?.FED_OWNED_FLAG == 'Y')
                                    {
                                        <label class="btn btn-secondary active">
                                            <input type="checkbox" checked> Federally Owned
                                        </label>
                                    }
                                    else
                                    {
                                        <label class="btn btn-outline-secondary">
                                            <input type="checkbox"> Federally Owned
                                        </label>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="input-group">
                            <div class="btn-group-toggle" data-toggle="buttons">
                                @{
                                    if (Model?.TaxYear?.NON_PROFIT_FLAG == 'Y')
                                    {
                                        <label class="btn btn-secondary active">
                                            <input type="checkbox" checked> Non-Profit
                                        </label>
                                    }
                                    else
                                    {
                                        <label class="btn btn-outline-secondary">
                                            <input type="checkbox"> Non-Profit
                                        </label>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="input-group">
                            <div class="btn-group-toggle" data-toggle="buttons">
                                @{
                                    if (Model?.TaxYear?.STATE_ASSESSED_FLAG == 'Y')
                                    {
                                        <label class="btn btn-secondary active">
                                            <input type="checkbox" checked> State Assessed
                                        </label>
                                    }
                                    else
                                    {
                                        <label class="btn btn-outline-secondary">
                                            <input type="checkbox"> State Assessed
                                        </label>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-3">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Property Class</span>
                            </div>
                            <input type="number" class="form-control" value="@Model?.TaxYear?.PROPERTY_CLASS">
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Parcel Acreage</span>
                            </div>
                            <input type="text" class="form-control" value="@Model?.TaxYear?.PARCEL_ACREAGE">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <a class="btn btn-block btn-secondary" href="../Prorate/@Model.Account.RP_ACCT_ID?year=@Model.TaxYear.TAX_YR">Prorate Tax Year</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-deck">
                <div class="card">
                    <div class="card-body">
                        <div class="input-group pb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Land Value</span>
                            </div>
                            <input type="text" class="form-control" value="@Model?.TaxYear?.LAND_AV.ToString("N0")">
                        </div>
                        <div class="input-group  pb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Land Market Value</span>
                            </div>
                            <input type="text" class="form-control" value="@Model?.TaxYear?.LAND_MKT_AV.ToString("N0")">
                        </div>
                        <div class="input-group  pb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Improvements Value</span>
                            </div>
                            <input type="text" class="form-control" value="@Model?.TaxYear?.IMPR_AV.ToString("N0")">
                        </div>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">New Construction Amount</span>
                            </div>
                            <input type="text" class="form-control" value="@Model?.TaxYear?.NEW_CONSTRUCTION_AMT.ToString("N0")">
                        </div>
                        <div class="input-group pt-3">
                            <a class="btn btn-danger" href="#">Override Values</a>
                            <div class="btn-group-toggle pl-3" data-toggle="buttons">
                                @{
                                    if (Model?.TaxYear?.OVERRIDE_CAMA_FLAG == 'Y')
                                    {
                                        <label class="btn btn-secondary active">
                                            <input type="checkbox" checked> Overridden
                                        </label>
                                    }
                                    else
                                    {
                                        <label class="btn btn-outline-secondary">
                                            <input type="checkbox"> Overridden
                                        </label>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <div class="input-group pb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Frozen Value</span>
                            </div>
                            <input type="text" class="form-control" value="@Model?.TaxYear?.FROZEN_VALUE">
                        </div>
                        <div class="input-group pb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Market Value</span>
                            </div>
                            <input type="text" class="form-control" value="@Model?.TaxYear?.MARKET_VALUE.ToString("N0")">
                        </div>
                        <div class="input-group pb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Assessed Value</span>
                            </div>
                            <input type="text" class="form-control" value="@Model?.TaxYear?.ASSESSED_VALUE.ToString("N0")">
                        </div>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Taxable Average Value</span>
                            </div>
                            <input type="text" class="form-control" value="@Model?.TaxYear?.TAXABLE_AV.ToString("N0")">
                        </div>
                        <div class="input-group pt-3">
                            <a class="btn btn-danger" href="#">Override Values</a>
                            <div class="btn-group-toggle pl-3" data-toggle="buttons">
                                @{
                                    if (Model?.TaxYear?.OVERRIDE_ASSESSED_FLAG == 'Y')
                                    {
                                        <label class="btn btn-secondary active">
                                            <input type="checkbox" checked> Overridden
                                        </label>
                                    }
                                    else
                                    {
                                        <label class="btn btn-outline-secondary">
                                            <input type="checkbox"> Overridden
                                        </label>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-deck pt-3">
                <div class="card">
                    <div class="card-body">
                        <div class="input-group pb-3">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Tax Billed</span>
                            </div>
                            <input type="text" class="form-control" value="@Model?.TaxYear?.RP_TAX_BILLED.ToString("N2")">
                        </div>
                        <div class="input-group">
                            <a class="btn btn-danger" href="#">Override Values</a>
                            <div class="btn-group-toggle pl-3" data-toggle="buttons">
                                @{
                                    if (Model?.TaxYear?.OVERRIDE_TAX_BILLED_FLAG == 'Y')
                                    {
                                        <label class="btn btn-secondary active">
                                            <input type="checkbox" checked> Overridden
                                        </label>
                                    }
                                    else
                                    {
                                        <label class="btn btn-outline-secondary">
                                            <input type="checkbox"> Overridden
                                        </label>
                                    }
                                }
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card invisible">
                    <div class="card-body">
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="balance" role="tabpanel" aria-labelledby="balance-tab">
            <div class="table-responsive pt-3">
                <table class="table table-bordered table-hover table-striped">
                    <thead>
                        <tr>
                            <th>
                            </th>
                            <th>
                                Billed
                            </th>
                            <th>
                                Paid
                            </th>
                            <th>
                                Refunded
                            </th>
                            <th>
                                Advance
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                Tax
                            </td>
                            <td>
                                @Model?.TaxYear?.ADJ_TAX_BILLED
                            </td>
                            <td>
                                @Model?.TaxYear?.RP_TAX_PAID
                            </td>
                            <td>
                                @Model?.TaxYear?.RP_TAX_REFUND
                            </td>
                            <td>
                                @Model?.TaxYear?.RP_ADVANCE_PAID
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Stormwater Management
                            </td>
                            <td>
                                @Model?.TaxYear?.SSWM_ASMT_BILLED
                            </td>
                            <td>
                                @Model?.TaxYear?.SSWM_ASMT_PAID
                            </td>
                            <td>
                                @Model?.TaxYear?.SSWM_ASMT_REFUND
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                FFP
                            </td>
                            <td>
                                @Model?.TaxYear?.FFP_ASMT_BILLED
                            </td>
                            <td>
                                @Model?.TaxYear?.FFP_ASMT_PAID
                            </td>
                            <td>
                                @Model?.TaxYear?.FFP_ASMT_REFUND
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Nox Weed
                            </td>
                            <td>
                                @Model?.TaxYear?.NOX_WEED_ASMT_BILLED
                            </td>
                            <td>
                                @Model?.TaxYear?.NOX_WEED_ASMT_PAID
                            </td>
                            <td>
                                @Model?.TaxYear?.NOX_WEED_ASMT_REFUND
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Other Assessments
                            </td>
                            @{
                                var otherBilled = 0M;
                                var otherPaid = 0M;
                                var otherRefund = 0M;
                                foreach (var other in Model.OtherAssessments)
                                {
                                    otherBilled += other.OTHER_ASMT_BILLED;
                                    otherPaid += other.OTHER_ASMT_PAID;
                                    otherRefund += other.OTHER_ASMT_REFUND;
                                }

                            }
                            <td>
                                @otherBilled
                            </td>
                            <td>
                                @otherPaid
                            </td>
                            <td>
                                @otherRefund
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Penalty
                            </td>
                            <td>
                            </td>
                            <td>
                                @Model?.TaxYear?.RP_PENALTY_PAID
                            </td>
                            <td>
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Interest
                            </td>
                            <td>
                            </td>
                            <td>
                                @Model?.TaxYear?.RP_INTEREST_PAID
                            </td>
                            <td>
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Totals
                            </td>
                            <td>
                                @{
                                    var billedTotal = Model.TaxYear.ADJ_TAX_BILLED + Model.TaxYear.ADJ_SSWM_BILLED + Model.TaxYear.ADJ_FFP_BILLED + Model.TaxYear.NOX_WEED_ASMT_BILLED + otherBilled;
                                    var balanceTotalBilled = Model.TaxYear.ADJ_TAX_BILLED + Model.TaxYear.ADJ_SSWM_BILLED +
                                    Model.TaxYear.ADJ_FFP_BILLED + otherBilled +
                                    Model.TaxYear.ADJ_NOX_WEED_BILLED;
                                }
                                @billedTotal
                            </td>
                            <td>
                                @{
                                    var balanceTotalPaid = Model.TaxYear.RP_TAX_PAID + Model.TaxYear.SSWM_ASMT_PAID +
                                    Model.TaxYear.FFP_ASMT_PAID + otherPaid +
                                    Model.TaxYear.RP_PENALTY_PAID + Model.TaxYear.RP_INTEREST_PAID +
                                    Model.TaxYear.NOX_WEED_ASMT_PAID;
                                }
                                @balanceTotalPaid
                            </td>
                            <td>
                                @{
                                    var refundedTotal = Model.TaxYear.RP_TAX_REFUND + Model.TaxYear.SSWM_ASMT_REFUND + Model.TaxYear.FFP_ASMT_REFUND + Model.TaxYear.NOX_WEED_ASMT_REFUND + otherRefund;
                                    var balanceTotalRefund = Model.TaxYear.RP_TAX_REFUND + Model.TaxYear.SSWM_ASMT_REFUND +
                                    Model.TaxYear.FFP_ASMT_REFUND + otherRefund +
                                    Model.TaxYear.NOX_WEED_ASMT_REFUND;
                                }
                                @refundedTotal
                            </td>
                            <td>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="row">
                <div class="col">
                    <a class="btn btn-info btn-block text-light" role="button" herf="#">
                        Amount Owing
                    </a>
                </div>
                <div class="col">
                    <a class="btn btn-secondary btn-block text-light" role="button" herf="#">
                        Receipts/Refunds
                    </a>
                </div>
                <div class="col">
                    <a class="btn btn-danger btn-block text-light" role="button" herf="#">
                        Create Refund Record
                    </a>
                </div>
                <div class="col">
                    <a class="btn btn-warning btn-block text-light" role="button" herf="#">
                        Calc Prepayments
                    </a>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="exemptions" role="tabpanel" aria-labelledby="exemptions-tab">
            <div class="table-responsive pt-3">
                <table class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr>
                            <th>
                                Exemption Type
                            </th>
                            <th>
                                Exempt Description
                            </th>
                            <th>
                                Value
                            </th>
                            <th>
                                Review Year
                            </th>
                            <th>
                                Override
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            foreach (var exemption in Model?.RealPropertyExemptions)
                            {
                                <tr>
                                    <td>
                                        @exemption.EXEMPT_TYPE
                                    </td>
                                    <td>
                                        @exemption.DESCRIPTION
                                    </td>
                                    <td>
                                        @exemption.EXEMPT_VALUE
                                    </td>
                                    <td>
                                        @exemption.REVIEW_YR
                                    </td>
                                    <td>
                                        <div class="btn-group-toggle" data-toggle="buttons">
                                            @{
                                                if (exemption.OVERRIDE_FLAG == 'Y')
                                                {
                                                    <label class="btn btn-secondary active">
                                                        <input type="checkbox" checked> Overridden
                                                    </label>
                                                }
                                                else
                                                {
                                                    <label class="btn btn-outline-secondary">
                                                        <input type="checkbox"> Overridden
                                                    </label>
                                                }
                                            }
                                        </div>
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-3">
                        <div class="input-group">
                            <a class="btn btn-block btn-primary" role="button" href="#">Details</a>
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="input-group">
                            <a class="btn btn-block btn-danger" role="button" href="#">Override Value</a>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Total Exemptions</span>
                            </div>
                            @{
                                var exemptionsTotal = 0;
                                foreach (var exemption in Model?.RealPropertyExemptions)
                                {
                                    exemptionsTotal += exemption.EXEMPT_VALUE;
                                }
                            }
                            <input type="text" class="form-control" value="@exemptionsTotal">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="assessments" role="tabpanel" aria-labelledby="assessments-tab">
            <div class="card-deck pt-3">
                <div class="card">
                    <div class="card-body">
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col-4">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">Stormwater Management Type</span>
                                        </div>
                                        <input type="text" class="form-control" value="@Model?.StormwaterManagement?.SSWM_TYPE">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">Impervious Surface Building</span>
                                        </div>
                                        <input type="text" class="form-control" value="@Model?.TaxYear?.IMPERVIOUS_SURF_BLDG">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">Billed</span>
                                        </div>
                                        <input type="text" class="form-control" value="@Model?.TaxYear?.ADJ_SSWM_BILLED">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mt-3">
                                <div class="form-row">
                                    <div class="col-4 invisible">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Stormwater Management Type</span>
                                            </div>
                                            <input type="text" class="form-control" value="@Model?.StormwaterManagement?.SSWM_TYPE">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Impervious Surface Other</span>
                                            </div>
                                            <input type="text" class="form-control" value="@Model?.TaxYear?.IMPERVIOUS_SURF_OTHER">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Paid</span>
                                            </div>
                                            <input type="text" class="form-control" value="@Model?.TaxYear?.SSWM_ASMT_PAID">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mt-3">
                                <div class="form-row">
                                    <div class="col-4 invisible">
                                        <div class="input-group">
                                            <div class="btn-group-toggle" data-toggle="buttons">
                                                @{
                                                    if (Model?.TaxYear?.OVERRIDE_ASSESSED_FLAG == 'Y')
                                                    {
                                                        <label class="btn btn-secondary active">
                                                            <input type="checkbox" checked> Overridden
                                                        </label>
                                                    }
                                                    else
                                                    {
                                                        <label class="btn btn-outline-secondary">
                                                            <input type="checkbox"> Overridden
                                                        </label>
                                                    }
                                                }
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Measured Date</span>
                                            </div>
                                            <input type="date" class="form-control" value="@Model?.TaxYear?.MEASURED_DT">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Refund</span>
                                            </div>
                                            <input type="text" class="form-control" value="@Model?.TaxYear?.SSWM_ASMT_REFUND">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mt-3">
                            <div class="form-row">
                                <div class="col-6">
                                    <div class="input-group">
                                        <div class="btn-group-toggle" data-toggle="buttons">
                                            @{
                                                if (Model?.TaxYear?.OVERRIDE_SSWM_FLAG == 'Y')
                                                {
                                                    <label class="btn btn-secondary active">
                                                        <input type="checkbox" checked> Stormwater Overridden
                                                    </label>
                                                }
                                                else
                                                {
                                                    <label class="btn btn-outline-secondary">
                                                        <input type="checkbox"> Stormwater Overridden
                                                    </label>
                                                }
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="input-group">
                                        <a class="btn btn-block btn-primary" role="button" href="#">Stormwater Rates</a>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="input-group">
                                        <a class="btn btn-block btn-danger" role="button" href="#">Override Stormwater</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-deck pt-3">
                <div class="card">
                    <div class="card-body">
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col-4">
                                    <div class="input-group">
                                        <div class="btn-group-toggle" data-toggle="buttons">
                                            @{
                                                if (Model?.TaxYear?.FFP_AGRMT_FLAG == 'Y')
                                                {
                                                    <label class="btn btn-secondary active">
                                                        <input type="checkbox" checked> FFP Agreement
                                                    </label>
                                                }
                                                else
                                                {
                                                    <label class="btn btn-outline-secondary">
                                                        <input type="checkbox"> FFP Agreement
                                                    </label>
                                                }
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">FFP Acres</span>
                                        </div>
                                        <input type="text" class="form-control" value="@Model?.TaxYear?.FFP_ACRES">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">Billed</span>
                                        </div>
                                        <input type="text" class="form-control" value="@Model?.TaxYear?.ADJ_FFP_BILLED">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mt-3">
                                <div class="form-row">
                                    <div class="col-4 invisible">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Stormwater Management Type</span>
                                            </div>
                                            <input type="text" class="form-control" value="@Model?.StormwaterManagement?.SSWM_TYPE">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">FFP Rate</span>
                                            </div>
                                            <input type="text" class="form-control" value="@Model?.FFPRate?.TAX_RATE">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Paid</span>
                                            </div>
                                            <input type="text" class="form-control" value="@Model?.TaxYear?.FFP_ASMT_PAID">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mt-3">
                                <div class="form-row">
                                    <div class="col-4 invisible">
                                        <div class="input-group">
                                            <div class="btn-group-toggle" data-toggle="buttons">
                                                <label class="btn btn-secondary active">
                                                    <input type="checkbox" checked> Overridden
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-4 invisible">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Measured Date</span>
                                            </div>
                                            <input type="date" class="form-control">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Refund</span>
                                            </div>
                                            <input type="text" class="form-control" value="@Model?.TaxYear?.FFP_ASMT_REFUND">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mt-3">
                            <div class="form-row">
                                <div class="col-6">
                                    <div class="input-group">
                                        <div class="btn-group-toggle" data-toggle="buttons">
                                            @{
                                                if (Model?.TaxYear?.OVERRIDE_FFP_FLAG == 'Y')
                                                {
                                                    <label class="btn btn-secondary active">
                                                        <input type="checkbox" checked> FFP Overridden
                                                    </label>
                                                }
                                                else
                                                {
                                                    <label class="btn btn-outline-secondary">
                                                        <input type="checkbox"> FFP Overridden
                                                    </label>
                                                }
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="input-group">
                                        <a class="btn btn-block btn-primary" role="button" href="#">FFP Rates</a>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="input-group">
                                        <a class="btn btn-block btn-danger" role="button" href="#">Override FFP</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-deck pt-3">
                <div class="card">
                    <div class="card-body">
                        <div class="form-group">
                            <div class="form-row">
                                <div class="col-4">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">Noxious Weed Type</span>
                                        </div>
                                        <input type="text" class="form-control" value="@Model?.NoxiousWeedAssessment?.NOX_WEED_TYPE">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">Parcel Acreage</span>
                                        </div>
                                        <input type="text" class="form-control" value="@Model?.TaxYear?.PARCEL_ACREAGE">
                                    </div>
                                </div>
                                <div class="col-4">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">Billed</span>
                                        </div>
                                        <input type="text" class="form-control" value="@Model?.TaxYear?.ADJ_NOX_WEED_BILLED">
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mt-3">
                                <div class="form-row">
                                    <div class="col-4 invisible">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Stormwater Management Type</span>
                                            </div>
                                            <input type="text" class="form-control">
                                        </div>
                                    </div>
                                    <div class="col-4 invisible">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Impervious Surface Other</span>
                                            </div>
                                            <input type="text" class="form-control">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Paid</span>
                                            </div>
                                            <input type="text" class="form-control" value="@Model?.TaxYear?.NOX_WEED_ASMT_PAID">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mt-3">
                                <div class="form-row">
                                    <div class="col-4">
                                        <div class="input-group invisible">
                                            <div class="btn-group-toggle" data-toggle="buttons">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="input-group invisible">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Measured Date</span>
                                            </div>
                                            <input type="date" class="form-control">
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Refund</span>
                                            </div>
                                            <input type="text" class="form-control" value="@Model?.TaxYear?.NOX_WEED_ASMT_REFUND">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group mt-3">
                            <div class="form-row">
                                <div class="col-6">
                                    <div class="input-group">
                                        <div class="btn-group-toggle" data-toggle="buttons">
                                            @{
                                                if (Model?.TaxYear?.OVERRIDE_NOX_WEED_FLAG == 'Y')
                                                {
                                                    <label class="btn btn-secondary active">
                                                        <input type="checkbox" checked> Noxious Weed Overridden
                                                    </label>
                                                }
                                                else
                                                {
                                                    <label class="btn btn-outline-secondary">
                                                        <input type="checkbox"> Noxious Weed Overridden
                                                    </label>
                                                }
                                            }
                                        </div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="input-group">
                                        <a class="btn btn-block btn-primary" role="button" href="#">Stormwater Rates</a>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="input-group">
                                        <a class="btn btn-block btn-danger" role="button" href="#">Override Stormwater</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-deck pt-3">
                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover table-bordered table-striped">
                                <thead>
                                    <tr>
                                        <th>
                                            Assessment Type
                                        </th>
                                        <th>
                                            Description
                                        </th>
                                        <th>
                                            Billed
                                        </th>
                                        <th>
                                            Paid
                                        </th>
                                        <th>
                                            Refund
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @{
                                        foreach (var other in Model?.OtherAssessments)
                                        {
                                            <tr>
                                                <td>
                                                    @other.OTHER_ASMT_TYPE
                                                </td>
                                                <td>
                                                    @other.DESCRIPTION
                                                </td>
                                                <td>
                                                    @other.OTHER_ASMT_BILLED
                                                </td>
                                                <td>
                                                    @other.OTHER_ASMT_PAID
                                                </td>
                                                <td>
                                                    @other.OTHER_ASMT_REFUND
                                                </td>
                                            </tr>
                                        }

                                    }
                                    <tr>
                                        <td>
                                        </td>
                                        <td>
                                            <strong>Totals</strong>
                                        </td>
                                        <td>
                                            @otherBilled
                                        </td>
                                        <td>
                                            @otherPaid
                                        </td>
                                        <td>
                                            @otherRefund
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="form-group mt-3">
                            <div class="form-row">
                                <div class="col-9 invisible">
                                    <div class="input-group">
                                        <div class="btn-group-toggle" data-toggle="buttons">
                                            <label class="btn btn-secondary active">
                                                <input type="checkbox" checked> Noxious Weed Overridden
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <div class="input-group">
                                        <a class="btn btn-block btn-danger" role="button" href="#">Assessment Types</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="adjustments" role="tabpanel" aria-labelledby="adjustments-tab">
            <div class="row pt-3">
                <div class="table-responsive col-9">
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>
                                    Adjustment Reason
                                </th>
                                <th>
                                    Change Date
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                foreach (var adjustment in Model?.RealPropertyAdjustments)
                                {
                                    <tr>
                                        <td>
                                            @adjustment.ADJ_REASON
                                        </td>
                                        <td>
                                            @adjustment.CHG_DT
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
                <div class="col-3">
                    <a href="#" class="btn btn-danger btn-block">
                        Critical Fields
                    </a>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr>
                            <th>
                                Tax Adjustment Type
                            </th>
                            <th>
                                Tax Adjustement Amount
                            </th>
                            <th>
                                SSWM Adjustment Type
                            </th>
                            <th>
                                SSWM Adjustement Amount
                            </th>
                            <th>
                                FFP Adjustment Type
                            </th>
                            <th>
                                FFP Adjustment Amount
                            </th>
                            <th>
                                Noxious Weed Assessment Type
                            </th>
                            <th>
                                Noxious Weed Adjustment Amount
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            foreach (var adjustment in Model?.RealPropertyAdjustments)
                            {
                                <tr>
                                    <td>@adjustment.TAX_ADJ_TYPE</td>
                                    <td>@adjustment.TAX_ADJ_AMT</td>
                                    <td>@adjustment.SSWM_ADJ_TYPE</td>
                                    <td>@adjustment.SSWM_ADJ_AMT</td>
                                    <td>@adjustment.FFP_ADJ_TYPE</td>
                                    <td>@adjustment.FFP_ADJ_AMT</td>
                                    <td>@adjustment.NOX_WEED_ADJ_TYPE</td>
                                    <td>@adjustment.NOX_WEED_ADJ_AMT</td>
                                </tr>
                            }

                        }
                    </tbody>
                </table>
            </div>
        </div>
        <div class="tab-pane fade" id="prepayment" role="tabpanel" aria-labelledby="prepayment-tab">
            <div class="table-responsive pt-3">
                <table class="table table-striped table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>
                                Monthly Tax Payment
                            </th>
                            <th>
                                Begin Date
                            </th>
                            <th>
                                End Date
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            foreach (var prepayment in Model?.RealPropertyPrepayments)
                            {
                                <tr>
                                    <td>
                                        @prepayment.MONTHLY_PAYMENT
                                    </td>
                                    <td>
                                        @prepayment.BEGIN_DT
                                    </td>
                                    <td>
                                        @prepayment.END_DT
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
        <div class="tab-pane fade" id="delinquent" role="tabpanel" aria-labelledby="delinquent-tab">
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Lock Date</span>
                            </div>
                            <input type="date" class="form-control" value="@Model?.RealPropertyYearPayment.LOCK_DT">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Last Paid Date</span>
                            </div>
                            <input type="date" class="form-control" value="@Model?.RealPropertyYearPayment?.LAST_PAID_DT">
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Payment Months</span>
                            </div>
                            <input type="number" class="form-control" value="@Model?.RealPropertyYearPayment?.PAYMENT_MONTHS">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Current Tax Due</span>
                            </div>
                            @{
                                var currTotalTaxDue = Model.RealPropertyYearPayment.CURR_TAX_DUE +
                                       Model.RealPropertyYearPayment.CURR_FFP_DUE +
                                       Model.RealPropertyYearPayment.CURR_SSWM_DUE +
                                       Model.RealPropertyYearPayment.CURR_NW_DUE +
                                       Model.RealPropertyYearPayment.CURR_ASMT_DUE;
                            }
                            <input type="number" class="form-control" value="@currTotalTaxDue">
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Lock Tax Due</span>
                            </div>
                            @{
                                var lockTotalTaxDue = Model.RealPropertyYearPayment.LOCK_TAX_DUE +
                                       Model.RealPropertyYearPayment.LOCK_FFP_DUE +
                                       Model.RealPropertyYearPayment.LOCK_SSWM_DUE +
                                       Model.RealPropertyYearPayment.LOCK_NW_DUE +
                                       Model.RealPropertyYearPayment.LOCK_ASMT_DUE;
                            }
                            <input type="number" class="form-control" value="@lockTotalTaxDue">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Current Penalty Due</span>
                            </div>
                            <input type="number" class="form-control" value="@Model.RealPropertyYearPayment.CURR_PENALTY_DUE">
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Lock Penalty Due</span>
                            </div>
                            <input type="number" class="form-control" value="@Model.RealPropertyYearPayment.LOCK_PENALTY_DUE">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Current Interest Due</span>
                            </div>
                            @{
                                var currTotalIntDue = Model.RealPropertyYearPayment.CURR_INT_TAX_DUE +
                                                           Model.RealPropertyYearPayment.CURR_INT_FFP_DUE +
                                                           Model.RealPropertyYearPayment.CURR_INT_SSWM_DUE +
                                                           Model.RealPropertyYearPayment.CURR_INT_NW_DUE +
                                                           Model.RealPropertyYearPayment.CURR_INT_ASMT_DUE;
                            }
                            <input type="number" class="form-control" value="@currTotalIntDue">
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Lock Interest Due</span>
                            </div>
                            @{
                                var lockTotalIntDue = Model.RealPropertyYearPayment.LOCK_INT_TAX_DUE +
                                           Model.RealPropertyYearPayment.LOCK_INT_FFP_DUE +
                                           Model.RealPropertyYearPayment.LOCK_INT_SSWM_DUE +
                                           Model.RealPropertyYearPayment.LOCK_INT_NW_DUE +
                                           Model.RealPropertyYearPayment.LOCK_INT_ASMT_DUE;
                            }
                            <input type="number" class="form-control" value="@lockTotalIntDue">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Total Current Due</span>
                            </div>
                            @{
                                var totalCurrAmtDue = currTotalTaxDue +
                                           currTotalIntDue +
                                           Model.RealPropertyYearPayment.CURR_PENALTY_DUE;
                            }
                            <input type="number" class="form-control" value="@totalCurrAmtDue">
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Total Due</span>
                            </div>
                            @{
                                var totalLockAmtDue = lockTotalTaxDue +
                                       lockTotalIntDue +
                                       Model.RealPropertyYearPayment.LOCK_PENALTY_DUE;
                            }
                            <input type="number" class="form-control" value="@totalLockAmtDue">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <a href="#" class="btn btn-secondary btn-block">
                                Payoff Amount
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Payment Amount</span>
                            </div>
                            <input type="number" class="form-control" value="@Model.RealPropertyYearPayment.PAYMENT_AMT">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <a href="#" class="btn btn-secondary btn-block">
                                Print Contract
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Approved Date</span>
                            </div>
                            <input type="date" class="form-control" value="@Model.RealPropertyYearPayment.APPROVED_DT">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <a href="#" class="btn btn-secondary btn-block">
                                Create
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Approved By</span>
                            </div>
                            <input type="text" class="form-control" value="@Model.RealPropertyYearPayment.APPROVED_BY">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <a href="#" class="btn btn-secondary btn-block">
                                Approve
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Cancelled Date</span>
                            </div>
                            <input type="date" class="form-control" value="@Model.RealPropertyYearPayment.CANCELLED_DT">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <a href="#" class="btn btn-secondary btn-block">
                                Cancel
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <div class="form-row">
                    <div class="col-6">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Complete Date</span>
                            </div>
                            <input type="date" class="form-control" value="@Model.RealPropertyYearPayment.COMPLETE_DT">
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="input-group">
                            <a href="#" class="btn btn-secondary btn-block">
                                Delete
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
